{%- comment -%}
FAQPage schema
Usage: add front matter `faq:` as a list of { q: "...", a: "..." }
Only include questions that are explicitly answered on the page.
{%- endcomment -%}

{%- if page.faq and page.faq.size > 0 -%}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {%- for item in page.faq -%}
    {
      "@type": "Question",
      "name": {{ item.q | jsonify }},
      "acceptedAnswer": {
        "@type": "Answer",
        "text": {{ item.a | jsonify }}
      }
    }{%- unless forloop.last -%},{%- endunless -%}
    {%- endfor -%}
  ]
}
</script>
{%- endif -%}
